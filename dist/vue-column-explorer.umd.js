(function(N,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("lucide-vue-next")):typeof define=="function"&&define.amd?define(["exports","vue","lucide-vue-next"],e):(N=typeof globalThis<"u"?globalThis:N||self,e(N.VueColumnExplorer={},N.Vue,N.LucideVueNext))})(this,function(N,e,_){"use strict";function q(t){const m=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const c in t)if(c!=="default"){const s=Object.getOwnPropertyDescriptor(t,c);Object.defineProperty(m,c,s.get?s:{enumerable:!0,get:()=>t[c]})}}return m.default=t,Object.freeze(m)}const R=q(_);function L(t){const m=e.reactive(new Map),c=e.ref(-1),s=e.ref([]),d=e.ref({}),u=e.ref({appearance:{columnWidth:300,maxVisibleColumns:4,animationDuration:200,theme:"light"},behavior:{clickBehavior:"single",selectionPersistence:!1,autoLoadNextPage:!0,scrollBehavior:"smooth"},performance:{itemsPerPage:50,virtualScrollThreshold:100,maxConcurrentRequests:2,requestTimeout:1e4}}),p=e.computed(()=>{const a=[];for(let l=0;l<=c.value;l++){const n=m.get(l);n&&a.push(n)}return a}),g=e.computed(()=>{const a=m.get(c.value);return(a==null?void 0:a.selectedIds)||new Set}),b=e.computed(()=>{const a=m.get(c.value);return!!(a&&a.selectedIds.size>0)}),w=e.computed(()=>{const a=[];for(let o=0;o<=c.value;o++){const r=m.get(o);if(r){const y=r.items.find(i=>r.selectedIds.has(i.id));a.push({columnId:r.config.id,selectedItem:y||null,selectedIds:new Set(r.selectedIds)})}}const l=c.value>0?m.get(c.value-1):null,n=l?l.items.find(o=>l.selectedIds.has(o.id)):null;return{parentId:(n==null?void 0:n.id)||null,parentItem:n||null,breadcrumb:s.value,globalFilters:d.value,columnChain:a,external:t,getParentData(o){const r=c.value-o;return a[r]},getColumnData(o){return a.find(r=>r.columnId===o)}}});function x(a){u.value={appearance:{...u.value.appearance,...a.appearance},behavior:{...u.value.behavior,...a.behavior},performance:{...u.value.performance,...a.performance}}}async function h(a,l){const n=l??c.value+1;for(let r=m.size-1;r>n;r--)m.delete(r);const o={config:e.markRaw(a),items:[],selectedIds:new Set,page:0,hasMore:!0,isLoading:!1,error:null,filters:{}};m.set(n,o),c.value=n,n===0&&(s.value=[{columnId:a.id,columnName:a.name}]),await B(n)}async function B(a,l=0){const n=m.get(a);if(n){n.isLoading=!0,n.error=null,l===0&&(n.items=[]);try{const o=w.value,r=await n.config.dataProvider.fetch({parentId:o.parentId,page:l,filters:{...d.value,...n.filters},context:o});let y=r.items;if(n.currentSort&&n.config.sortOptions){const i=n.config.sortOptions.find(f=>f.key===n.currentSort);i&&(y=[...y].sort(i.sortFn))}l===0?n.items=y:n.items.push(...y),n.hasMore=r.hasMore,n.page=l}catch(o){n.error=o,console.error("Error loading column data:",o)}finally{n.isLoading=!1}}}async function M(a){const l=m.get(a);!l||!l.hasMore||l.isLoading||await B(a,l.page+1)}async function V(a){const l=m.get(a);l&&(l.selectedIds.clear(),l.page=0,await B(a,0))}function A(a,l,n=!1){var r;const o=m.get(a);!o||!((r=o.config.selection)!=null&&r.enabled)||(n&&o.config.selection.multiple?o.selectedIds.has(l)?o.selectedIds.delete(l):o.selectedIds.add(l):(o.selectedIds.clear(),o.selectedIds.add(l)))}function C(a){const l=m.get(a);l&&l.selectedIds.clear()}async function $(a,l){var y,i,f;const n=m.get(l);if(!n||!n.config.itemClick)return;const o=w.value,r=await((i=(y=n.config.itemClick).handler)==null?void 0:i.call(y,a,o));if(r!=null&&r.column)s.value=s.value.slice(0,l+1),await h(e.markRaw(r.column),l+1),s.value.push({columnId:r.column.id,columnName:a.name,itemId:a.id,itemName:a.name});else if(r!=null&&r.action){const k=(f=n.config.actions)==null?void 0:f.find(S=>S.key===r.action);k&&await D(l,k.key)}else r!=null&&r.custom&&r.custom()}async function D(a,l){var y;const n=m.get(a);if(!n)return;const o=(y=n.config.actions)==null?void 0:y.find(i=>i.key===l);if(!o)return;const r=Array.from(n.selectedIds);if(r.length!==0)try{const i=w.value;await o.handler(r,i),console.log("[executeAction] skipRefresh:",o.skipRefresh,"actionKey:",l),o.skipRefresh?console.log("[executeAction] Skipping refresh for column",a):(console.log("[executeAction] Refreshing column",a),await V(a))}catch(i){console.error("Error executing action:",i)}}function F(a){for(let l=m.size-1;l>a;l--)m.delete(l);c.value=a,s.value=s.value.slice(0,a+1)}function I(a,l,n){const o=m.get(a);o&&(n==null||n===""?delete o.filters[l]:o.filters[l]=n,B(a,0))}function z(a,l){const n=m.get(a);n&&(l==null||l===""?n.currentSort=void 0:n.currentSort=l,B(a,0))}return{columns:m,activeColumnIndex:c,breadcrumb:s,globalFilters:d,config:u,visibleColumns:p,currentSelection:g,canNavigateForward:b,getContext:w,setConfig:x,openColumn:h,loadColumnData:B,loadNextPage:M,refreshColumn:V,selectItem:A,clearSelection:C,navigateToItem:$,executeAction:D,navigateToBreadcrumb:F,setFilter:I,setSort:z}}const U={class:"explorer-breadcrumb"},H=["onClick"],W=e.defineComponent({__name:"ExplorerBreadcrumb",props:{breadcrumb:{}},emits:["navigate"],setup(t,{emit:m}){const c=m,s=d=>{c("navigate",d)};return(d,u)=>(e.openBlock(),e.createElementBlock("div",U,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.breadcrumb,(p,g)=>(e.openBlock(),e.createElementBlock("div",{key:g,class:"breadcrumb-item"},[e.createElementVNode("button",{class:e.normalizeClass(["breadcrumb-item__button",{"breadcrumb-item__button--active":g===t.breadcrumb.length-1}]),onClick:b=>s(g)},e.toDisplayString(p.itemName||p.columnName),11,H),g<t.breadcrumb.length-1?(e.openBlock(),e.createBlock(e.unref(_.ChevronRight),{key:0,size:16,class:"breadcrumb-separator"})):e.createCommentVNode("",!0)]))),128))]))}}),O=(t,m)=>{const c=t.__vccOpts||t;for(const[s,d]of m)c[s]=d;return c},X=O(W,[["__scopeId","data-v-27ca8931"]]),Y={key:0,class:"explorer-item__checkbox"},G=["checked"],J={class:"explorer-item__content"},Q={key:0,class:"explorer-item__icon"},Z={class:"explorer-item__details"},K={class:"explorer-item__name"},v={key:0,class:"explorer-item__metadata"},ee={key:1,class:"explorer-item__chevron"},te={key:1,class:"item-status"},oe={key:2,class:"item-count"},ne=O(e.defineComponent({__name:"ExplorerItem",props:{item:{},selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},showMetadata:{type:Boolean,default:!0}},emits:["click","dblclick","contextmenu","select"],setup(t,{emit:m}){const c=t,s=m,d=e.computed(()=>{if(!c.item.icon)return c.item.type==="folder"?R.Folder:R.File;if(c.item.icon.startsWith("lucide:")){const B=c.item.icon.replace("lucide:","").split("-").map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(""),M=R[B];if(M)return M}return R.File}),u=e.computed(()=>{const h=c.item.badgeColor;return h&&["success","error","warning","info"].includes(h.toLowerCase())?`item-badge--${h.toLowerCase()}`:""}),p=e.computed(()=>{const h=c.item.badgeColor;return h?["success","error","warning","info"].includes(h.toLowerCase())?{}:{backgroundColor:h,color:"#ffffff"}:{}}),g=h=>{c.clickable&&!c.item.disabled&&s("click",c.item,h)},b=h=>{s("dblclick",c.item,h)},w=h=>{s("contextmenu",c.item,h)},x=h=>{s("select",c.item,!0)};return(h,B)=>{const M=e.resolveComponent("ChevronRight");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["explorer-item",{"explorer-item--selected":t.selected,"explorer-item--clickable":t.clickable&&!t.item.disabled,"explorer-item--disabled":t.item.disabled}]),onClick:g,onDblclick:b,onContextmenu:e.withModifiers(w,["prevent"])},[t.selectable?(e.openBlock(),e.createElementBlock("div",Y,[e.createElementVNode("input",{type:"checkbox",checked:t.selected,onClick:e.withModifiers(x,["stop"])},null,8,G)])):e.createCommentVNode("",!0),e.createElementVNode("div",J,[t.showIcon?(e.openBlock(),e.createElementBlock("div",Q,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.value),{size:20}))])):e.createCommentVNode("",!0),e.createElementVNode("div",Z,[e.createElementVNode("div",K,e.toDisplayString(t.item.name),1),t.showMetadata&&t.item.description?(e.openBlock(),e.createElementBlock("div",v,e.toDisplayString(t.item.description),1)):e.createCommentVNode("",!0)])]),t.item.badge!==void 0||t.item.status!==void 0||t.item.count!==void 0||t.item.hasChildren?(e.openBlock(),e.createElementBlock("div",ee,[t.item.badge!==void 0?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["item-badge",u.value]),style:e.normalizeStyle(p.value)},e.toDisplayString(t.item.badge),7)):t.item.status!==void 0?(e.openBlock(),e.createElementBlock("span",te,e.toDisplayString(t.item.status),1)):t.item.count!==void 0?(e.openBlock(),e.createElementBlock("span",oe,e.toDisplayString(t.item.count),1)):e.createCommentVNode("",!0),t.item.hasChildren?(e.openBlock(),e.createBlock(M,{key:3,size:16})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],34)}}}),[["__scopeId","data-v-ed186481"]]),le={class:"explorer-column__header"},ce={class:"explorer-column__title"},ae={class:"explorer-column__actions"},re={key:0,class:"explorer-column__filters"},se={key:0,class:"filter-item"},ie=["value"],de=["value"],me={class:"filter-item__label"},ue=["placeholder","value","onInput"],fe=["placeholder","value","onInput"],he=["value","onChange"],ke=["value"],pe={key:0,class:"explorer-column__loading"},ge={key:1,class:"explorer-column__error"},Ce={key:0,class:"error-message"},ye={key:2,class:"explorer-column__empty"},be={key:3,class:"explorer-column__items"},Be={key:0,class:"explorer-column__loading-more"},Se={key:1,class:"explorer-column__footer"},xe={class:"explorer-column__selection-info"},_e={class:"explorer-column__quick-actions"},we=["onClick"],Ee=O(e.defineComponent({__name:"ExplorerColumn",props:{columnState:{},index:{},isActive:{type:Boolean}},emits:["item-click","item-select","context-menu","refresh","load-more","action","filter-change","sort-change"],setup(t,{emit:m}){const c=t,s=m,d=e.ref(null),u=e.ref(!1),p=e.computed(()=>c.columnState.config.filters&&c.columnState.config.filters.length>0),g=e.computed(()=>c.columnState.config.sortOptions&&c.columnState.config.sortOptions.length>0),b=e.computed(()=>c.columnState.selectedIds.size>0),w=e.computed(()=>{var l;return((l=c.columnState.config.view)==null?void 0:l.loadingRows)||10}),x=e.computed(()=>{var l;return((l=c.columnState.config.view)==null?void 0:l.emptyMessage)||"No items found"}),h=e.computed(()=>c.columnState.isLoading&&c.columnState.items.length===0),B=e.computed(()=>{if(!c.columnState.config.actions)return[];const l=c.columnState.items.filter(o=>c.columnState.selectedIds.has(o.id)),n=l.length;return c.columnState.config.actions.filter(o=>n===1&&o.showOnSingleSelect===!1||n>1&&o.showOnMultipleSelect===!1||n===1&&o.showOnMultipleSelect===!0&&o.showOnSingleSelect===!1||n>1&&o.showOnSingleSelect===!0&&o.showOnMultipleSelect===!1?!1:o.visible?o.visible(l):!0)}),M=()=>{u.value=!u.value},V=(l,n)=>{s("item-click",l,c.index)},A=(l,n)=>{s("item-select",l,c.index,n)},C=(l,n)=>{s("context-menu",l,c.index,n)},$=()=>{s("refresh",c.index)},D=()=>{if(!d.value)return;const{scrollTop:l,scrollHeight:n,clientHeight:o}=d.value;l+o>=n-100&&c.columnState.hasMore&&!c.columnState.isLoading&&s("load-more",c.index)},F=l=>{s("action",l,c.index)},I=(l,n)=>{s("filter-change",l,n,c.index)},z=l=>{s("sort-change",l,c.index)},a=l=>({"lucide:trash":_.Trash,"lucide:download":_.Download,"lucide:edit":_.Edit,"lucide:mail":_.Mail})[l]||null;return(l,n)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["explorer-column",{"explorer-column--active":t.isActive}])},[e.createElementVNode("div",le,[e.createElementVNode("h3",ce,e.toDisplayString(t.columnState.config.name),1),e.createElementVNode("div",ae,[p.value||g.value?(e.openBlock(),e.createElementBlock("button",{key:0,class:e.normalizeClass(["explorer-column__filter-btn",{active:u.value}]),onClick:M},[e.createVNode(e.unref(_.Filter),{size:16})],2)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"explorer-column__refresh-btn",onClick:$},[e.createVNode(e.unref(_.RefreshCw),{size:16})])])]),u.value&&(p.value||g.value)?(e.openBlock(),e.createElementBlock("div",re,[g.value?(e.openBlock(),e.createElementBlock("div",se,[n[2]||(n[2]=e.createElementVNode("label",{class:"filter-item__label"},"Sıralama",-1)),e.createElementVNode("select",{class:"filter-item__select",value:t.columnState.currentSort||"",onChange:n[0]||(n[0]=o=>z(o.target.value))},[n[1]||(n[1]=e.createElementVNode("option",{value:""},"Varsayılan",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columnState.config.sortOptions,o=>(e.openBlock(),e.createElementBlock("option",{key:o.key,value:o.key},e.toDisplayString(o.label),9,de))),128))],40,ie)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columnState.config.filters,o=>(e.openBlock(),e.createElementBlock("div",{key:o.key,class:"filter-item"},[e.createElementVNode("label",me,e.toDisplayString(o.label),1),o.type==="search"?(e.openBlock(),e.createElementBlock("input",{key:0,type:"text",class:"filter-item__input",placeholder:`Search ${o.label.toLowerCase()}...`,value:t.columnState.filters[o.key]||"",onInput:r=>I(o.key,r.target.value)},null,40,ue)):o.type==="number"?(e.openBlock(),e.createElementBlock("input",{key:1,type:"number",class:"filter-item__input",placeholder:o.label,value:t.columnState.filters[o.key]||"",onInput:r=>I(o.key,r.target.value)},null,40,fe)):o.type==="select"?(e.openBlock(),e.createElementBlock("select",{key:2,class:"filter-item__select",value:t.columnState.filters[o.key]||"",onChange:r=>I(o.key,r.target.value)},[n[3]||(n[3]=e.createElementVNode("option",{value:""},"All",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.options,r=>(e.openBlock(),e.createElementBlock("option",{key:r.value,value:r.value},e.toDisplayString(r.label),9,ke))),128))],40,he)):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"scrollContainer",ref:d,class:"explorer-column__content",onScroll:D},[h.value?(e.openBlock(),e.createElementBlock("div",pe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.value,o=>(e.openBlock(),e.createElementBlock("div",{key:o,class:"skeleton-item"},[...n[4]||(n[4]=[e.createStaticVNode('<div class="skeleton-item__icon" data-v-4cc9db4b></div><div class="skeleton-item__content" data-v-4cc9db4b><div class="skeleton-item__name" data-v-4cc9db4b></div><div class="skeleton-item__metadata" data-v-4cc9db4b></div></div><div class="skeleton-item__chevron" data-v-4cc9db4b></div>',3)])]))),128))])):t.columnState.error?(e.openBlock(),e.createElementBlock("div",ge,[n[5]||(n[5]=e.createElementVNode("p",null,"Error loading data",-1)),t.columnState.error.message?(e.openBlock(),e.createElementBlock("p",Ce,e.toDisplayString(t.columnState.error.message),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:$},"Retry")])):t.columnState.items.length===0&&!t.columnState.isLoading?(e.openBlock(),e.createElementBlock("div",ye,e.toDisplayString(x.value),1)):t.columnState.items.length>0?(e.openBlock(),e.createElementBlock("div",be,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columnState.items,o=>{var r,y,i;return e.openBlock(),e.createBlock(ne,{key:o.id,item:o,selected:t.columnState.selectedIds.has(o.id),selectable:((r=t.columnState.config.selection)==null?void 0:r.multiple)??!1,clickable:!0,"show-icon":((y=t.columnState.config.view)==null?void 0:y.showIcon)??!0,"show-metadata":((i=t.columnState.config.view)==null?void 0:i.showMetadata)??!0,onClick:(f,k)=>V(f),onSelect:(f,k)=>A(f,k),onContextmenu:(f,k)=>C(f,k)},null,8,["item","selected","selectable","show-icon","show-metadata","onClick","onSelect","onContextmenu"])}),128)),t.columnState.isLoading&&t.columnState.items.length>0?(e.openBlock(),e.createElementBlock("div",Be," Loading more... ")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],544),b.value?(e.openBlock(),e.createElementBlock("div",Se,[e.createElementVNode("div",xe,e.toDisplayString(t.columnState.selectedIds.size)+" selected ",1),e.createElementVNode("div",_e,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,o=>(e.openBlock(),e.createElementBlock("button",{key:o.key,class:e.normalizeClass(["action-btn",`action-btn--${o.color||"default"}`]),onClick:r=>F(o.key)},[o.icon?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a(o.icon)),{key:0,size:14})):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(o.label),1)],10,we))),128))])])):e.createCommentVNode("",!0)],2))}}),[["__scopeId","data-v-4cc9db4b"]]),Ne=["onClick"],Me=O(e.defineComponent({__name:"ExplorerContextMenu",props:{visible:{type:Boolean},x:{},y:{},actions:{}},emits:["close","action"],setup(t,{emit:m}){const c=t,s=m,d=()=>{s("close")},u=b=>{s("action",b.key),s("close")},p=b=>({"lucide:download":_.Download,"lucide:trash":_.Trash,"lucide:edit":_.Edit,"lucide:eye":_.Eye})[b]||null,g=()=>{c.visible&&s("close")};return e.onMounted(()=>{document.addEventListener("click",g)}),e.onUnmounted(()=>{document.removeEventListener("click",g)}),(b,w)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[t.visible?(e.openBlock(),e.createElementBlock("div",{key:0,class:"context-menu",style:e.normalizeStyle({top:`${t.y}px`,left:`${t.x}px`}),onClick:d},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.actions,x=>(e.openBlock(),e.createElementBlock("div",{key:x.key,class:"context-menu__item",onClick:h=>u(x)},[x.icon?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p(x.icon)),{key:0,size:16})):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(x.label),1)],8,Ne))),128))],4)):e.createCommentVNode("",!0)]))}}),[["__scopeId","data-v-569d2f59"]]),Ve={class:"explorer-container"},Ie={class:"explorer-viewport"},T=O(e.defineComponent({__name:"ExplorerContainer",props:{rootColumn:{},context:{}},setup(t,{expose:m}){const c=t,s=L(c.context),{breadcrumb:d,visibleColumns:u,activeColumnIndex:p,openColumn:g,selectItem:b,navigateToItem:w,navigateToBreadcrumb:x,refreshColumn:h,loadNextPage:B,executeAction:M,setFilter:V,setSort:A}=s,C=e.reactive({visible:!1,x:0,y:0,actions:[],targetItem:null,targetColumnIndex:-1});c.rootColumn&&g(c.rootColumn,0);const $=async(i,f)=>{b(f,i.id,!1);const k=s.columns.get(f);k!=null&&k.config.itemClick&&await w(i,f)},D=(i,f,k)=>{b(f,i.id,k)},F=(i,f,k)=>{const S=s.columns.get(f);if(!(S!=null&&S.config.actions)||S.config.actions.length===0)return;S.selectedIds.has(i.id)||b(f,i.id,!1);const P=S.selectedIds.size,j=S.config.actions.filter(E=>{if(P===1){if(E.showOnSingleSelect!==void 0&&!E.showOnSingleSelect||E.showOnMultipleSelect===!0&&E.showOnSingleSelect!==void 0&&!E.showOnSingleSelect)return!1}else if(P>1&&(E.showOnMultipleSelect!==void 0&&!E.showOnMultipleSelect||E.showOnSingleSelect===!0&&E.showOnMultipleSelect!==void 0&&!E.showOnMultipleSelect))return!1;const Oe=S.items.filter(Ae=>S.selectedIds.has(Ae.id));return!(E.visible&&!E.visible(Oe))});j.length!==0&&(C.visible=!0,C.x=k.clientX,C.y=k.clientY,C.actions=j,C.targetItem=i,C.targetColumnIndex=f)},I=()=>{C.visible=!1},z=async i=>{C.targetColumnIndex>=0&&await M(C.targetColumnIndex,i)},a=i=>{x(i)},l=async i=>{await h(i)},n=async i=>{await B(i)},o=async(i,f)=>{await M(f,i)},r=(i,f,k)=>{V(k,i,f)},y=(i,f)=>{A(f,i)};return m({store:s,openColumn:i=>g(i),refresh:()=>h(p.value)}),(i,f)=>(e.openBlock(),e.createElementBlock("div",Ve,[e.unref(d).length>0?(e.openBlock(),e.createBlock(X,{key:0,breadcrumb:e.unref(d),onNavigate:a},null,8,["breadcrumb"])):e.createCommentVNode("",!0),e.createElementVNode("div",Ie,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(u),(k,S)=>(e.openBlock(),e.createBlock(Ee,{key:S,"column-state":k,index:S,"is-active":S===e.unref(p),onItemClick:$,onItemSelect:D,onContextMenu:F,onRefresh:l,onLoadMore:n,onAction:o,onFilterChange:r,onSortChange:y},null,8,["column-state","index","is-active"]))),128))]),e.createVNode(Me,{visible:C.visible,x:C.x,y:C.y,actions:C.actions,onClose:I,onAction:z},null,8,["visible","x","y","actions"])]))}}),[["__scopeId","data-v-e73b7d3f"]]);function $e(t){var m,c,s;return{id:t.id,name:t.name,dataProvider:{fetch:async d=>{if(console.log(`[ColumnBuilder-${t.id}] fetch called with params:`,d),console.log(`[ColumnBuilder-${t.id}] config.data:`,t.data),console.log(`[ColumnBuilder-${t.id}] config.fetchData:`,typeof t.fetchData),t.data)return console.log(`[ColumnBuilder-${t.id}] Using static data`),{items:Array.isArray(t.data)?t.data:[],hasMore:!1};if(t.fetchData){console.log(`[ColumnBuilder-${t.id}] Calling fetchData...`);try{const u=await t.fetchData(d);return console.log(`[ColumnBuilder-${t.id}] fetchData returned:`,u),{items:Array.isArray(u)?u:[],hasMore:!1}}catch(u){throw console.error(`[ColumnBuilder-${t.id}] Error in fetchData:`,u),u}}return console.warn(`[ColumnBuilder-${t.id}] No data source provided!`),{items:[],hasMore:!1}}},selection:{enabled:t.allowMultipleSelection!==void 0||!!(t.singleActions&&t.singleActions.length>0)||!!(t.multipleActions&&t.multipleActions.length>0),multiple:t.allowMultipleSelection!==void 0?t.allowMultipleSelection:!1},filters:(m=t.filters)==null?void 0:m.map(d=>({...d,default:void 0})),sortOptions:t.sortOptions,actions:[...((c=t.singleActions)==null?void 0:c.map(d=>({key:d.key,label:d.label,icon:d.icon,color:d.color,skipRefresh:d.skipRefresh,showOnSingleSelect:!0,showOnMultipleSelect:!1,handler:async(u,p)=>{await d.handler(u)}})))||[],...((s=t.multipleActions)==null?void 0:s.map(d=>({key:d.key,label:d.label,icon:d.icon,color:d.color,skipRefresh:d.skipRefresh,showOnSingleSelect:!1,showOnMultipleSelect:!0,handler:async(u,p)=>{await d.handler(u)}})))||[]],itemClick:t.onItemClick?{type:"navigate",handler:async(d,u)=>{const p=await t.onItemClick(d,u);return p?{column:p}:{}}}:void 0,view:{showIcon:!0,showMetadata:!0,emptyMessage:`No ${t.name.toLowerCase()} found`}}}const De={install(t){t.component("ExplorerContainer",T)}};N.ExplorerContainer=T,N.createColumn=$e,N.default=De,N.useExplorer=L,Object.defineProperties(N,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
